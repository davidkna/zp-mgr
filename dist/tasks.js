"use strict";exports.__esModule=!0,exports.writeTask=async function(){await t.default.writeFile(u,`${p.join("\n")}`)},exports.cleanupTask=async function(){const a=[...c.map(e=>e.name),"plugins.zsh"],r=await t.default.readdir(l);r&&r.filter(e=>!(0,i.default)(a,e)).forEach(a=>t.default.removeSync(e.default.join(l,a)))},exports.downloadTasks=void 0;var e=d(require("path")),a=d(require("lodash/entries")),t=d(require("fs-extra")),i=d(require("lodash/includes")),r=d(require("mkdirp")),n=d(require("toml")),o=require("./index");function d(e){return e&&e.__esModule?e:{default:e}}const{configFile:s,downloadDir:l,sourceFile:u}=o.paths;(0,r.default)(l);const f=n.default.parse(t.default.readFileSync(s,"utf8")),c=(0,a.default)(f),p=Array(c.length),w=c.map((e,a)=>({title:`Downloading ${e[1].github||e[1]}...`,async task(){c[a]=new o.Plugin(e),await t.default.pathExists(c[a].downloadPath)?await c[a].update():await c[a].download(),p[a]=await c[a].entry()}}));exports.downloadTasks=w;