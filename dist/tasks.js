"use strict";var e=require("@babel/runtime-corejs3/helpers/interopRequireDefault");exports.__esModule=!0,exports.writeTask=async function(){await s.default.writeFile(p,`${q.join("\n")}`)},exports.cleanupTask=async function(){var e;const l=[...(0,r.default)(b).call(b,e=>e.name),"plugins.zsh"],u=await s.default.readdir(f);u&&(0,t.default)(e=(0,a.default)(u).call(u,e=>!(0,n.default)(l,e))).call(e,e=>s.default.removeSync(i.default.join(f,e)))},exports.downloadTasks=void 0;var a=e(require("@babel/runtime-corejs3/core-js-stable/instance/filter")),t=e(require("@babel/runtime-corejs3/core-js-stable/instance/for-each")),r=e(require("@babel/runtime-corejs3/core-js-stable/instance/map")),i=e(require("path")),l=e(require("lodash/entries")),s=e(require("fs-extra")),n=e(require("lodash/includes")),u=e(require("mkdirp")),o=e(require("toml")),d=require("./index");const{configFile:c,downloadDir:f,sourceFile:p}=d.paths;(0,u.default)(f);const w=o.default.parse(s.default.readFileSync(c,"utf8")),b=(0,l.default)(w),q=Array(b.length),h=(0,r.default)(b).call(b,(e,a)=>({title:`Downloading ${e[1].github||e[1]}...`,async task(){b[a]=new d.Plugin(e),await s.default.pathExists(b[a].downloadPath)?await b[a].update():await b[a].download(),q[a]=await b[a].entry()}}));exports.downloadTasks=h;