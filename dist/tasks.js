"use strict";var e=require("@babel/runtime-corejs3/helpers/interopRequireDefault");require("core-js/modules/es.array.iterator"),require("core-js/modules/es.promise"),exports.__esModule=!0,exports.writeTask=async function(){await s.default.writeFile(p,`${b.join("\n")}`)},exports.cleanupTask=async function(){var e;const l=[...(0,t.default)(q).call(q,e=>e.name),"plugins.zsh"],u=await s.default.readdir(f);u&&(0,r.default)(e=(0,a.default)(u).call(u,e=>!(0,o.default)(l,e))).call(e,e=>s.default.removeSync(i.default.join(f,e)))},exports.downloadTasks=void 0;var a=e(require("@babel/runtime-corejs3/core-js-stable/instance/filter")),r=e(require("@babel/runtime-corejs3/core-js-stable/instance/for-each")),t=e(require("@babel/runtime-corejs3/core-js-stable/instance/map")),i=e(require("path")),l=e(require("lodash/entries")),s=e(require("fs-extra")),o=e(require("lodash/includes")),u=e(require("mkdirp")),n=e(require("toml")),d=require("./index");const{configFile:c,downloadDir:f,sourceFile:p}=d.paths;(0,u.default)(f);const w=n.default.parse(s.default.readFileSync(c,"utf8")),q=(0,l.default)(w),b=Array(q.length),m=(0,t.default)(q).call(q,(e,a)=>({title:`Downloading ${e[1].github||e[1]}...`,async task(){q[a]=new d.Plugin(e),await s.default.pathExists(q[a].downloadPath)?await q[a].update():await q[a].download(),b[a]=await q[a].entry()}}));exports.downloadTasks=m;